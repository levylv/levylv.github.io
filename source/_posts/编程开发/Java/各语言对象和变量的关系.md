---
title: 各语言对象和变量的关系
date: 2020-01-07 18:13:30
categories: [编程开发,Java]
---

# 变量和对象

任何语言都是由变量和对象组成的。

```
int a = 3;
```

a是变量，3是对象

## java

- 对象分为基本数据类型和其他对象，同理变量也就分为基本数据类型的变量和引用变量
- 基本数据类型的变量操作，产生新的对象，不再指向同一个对象。变量传递相当于对象值传递。

```
例子：int a = 3;int b;b = a; // 两个变量指向同一个栈对象a = 30; // a指向新的栈对象，b=3不会变
```

- 引用变量操作，还是指向同一个对象，类似C/C++的指针。变量操作相当于对象地址传递。

```
例子：Class a = new Class();Class b = new Class();b = a; // 两个变量指向同一个堆对象a.set(something); // a,b两个引用变量依然指向同一个堆对象
```

- 基本类型的变量和对象，引用变量都放在栈中，引用对象放在堆中。
- 栈空间的数据对象是共享的

```
int a = 3; int b = 3; //这个时候3的栈对象已经存在，共享
```

## python

- 对象分为可变对象和不可变对象，同理变量也就分为不可变对象的变量和可变对象的变量
- 不可变对象(整型、字符串和元组)的变量操作，产生新的对象，不再指向同一个对象。变量传递相当于对象值传递。

```
例子：a = 3; b = a; // 两个变量指向同一个对象a = 30; // a指向新的对象，b=3不会变
```

- 可变对象的变量操作，还是指向同一个对象，类似C/C++的指针。变量操作相当于对象地址传递。

```
例子：a = Class();b = a; // 两个变量指向同一个对象a.set(something); // a,b两个变量依然指向同一个对象
```

## C/C++

- 变量有变量的值和地址，对象有对象的值和地址
- 通过指针来实现对同一个对象的操作，指针的自由度更高，但是代码上相比java和python就更加复杂了，引用变量多方便啊。。
- 即使是基本数据类型，也可以操作为同一个对象

```
int a = 3;int* p = &a;a = 4; // *p和a指向同一个对象
```